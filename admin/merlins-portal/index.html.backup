<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merlin's Portal - Excalibur $EXS Admin Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="portal-container">
        <header class="portal-header">
            <h1>üßô Merlin's Portal</h1>
            <p class="subtitle">The Sanctum of King Arthur</p>
        </header>

        <nav class="portal-nav">
            <button class="nav-btn active" data-panel="treasury">üí∞ Treasury</button>
            <button class="nav-btn" data-panel="difficulty">‚öñÔ∏è Difficulty</button>
            <button class="nav-btn" data-panel="anomaly">üó∫Ô∏è Anomaly Map</button>
        </nav>

        <main class="portal-main">
            <!-- Treasury Monitoring Panel -->
            <section id="treasury-panel" class="panel active">
                <h2>Treasury Monitoring</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Treasury</h3>
                        <p class="stat-value" id="total-treasury">0.00000000</p>
                        <span class="stat-unit">BTC</span>
                    </div>
                    <div class="stat-card">
                        <h3>$EXS Reserved</h3>
                        <p class="stat-value" id="exs-reserved">0</p>
                        <span class="stat-unit">$EXS</span>
                    </div>
                    <div class="stat-card">
                        <h3>Satoshi Fees Collected</h3>
                        <p class="stat-value" id="satoshi-fees">0</p>
                        <span class="stat-unit">sats</span>
                    </div>
                    <div class="stat-card">
                        <h3>Treasury Fee Rate</h3>
                        <p class="stat-value">1</p>
                        <span class="stat-unit">%</span>
                    </div>
                </div>
                <div class="treasury-chart">
                    <h3>Treasury Growth Over Time</h3>
                    <canvas id="treasury-chart"></canvas>
                </div>
            </section>

            <!-- Difficulty Adjustment Panel -->
            <section id="difficulty-panel" class="panel">
                <h2>Forge Difficulty Adjustment</h2>
                <div class="difficulty-control">
                    <div class="current-difficulty">
                        <h3>Current Difficulty</h3>
                        <p class="difficulty-value" id="current-difficulty">4</p>
                    </div>
                    <div class="adjustment-controls">
                        <label for="difficulty-slider">Forge Weight:</label>
                        <input type="range" id="difficulty-slider" min="1" max="10" value="4" step="1">
                        <span id="difficulty-display">4</span>
                        <button id="apply-difficulty" class="action-btn">Apply New Difficulty</button>
                    </div>
                    <div class="difficulty-stats">
                        <div class="stat-item">
                            <span>Avg. Forge Time:</span>
                            <strong id="avg-forge-time">~10 minutes</strong>
                        </div>
                        <div class="stat-item">
                            <span>Network Hash Rate:</span>
                            <strong id="network-hashrate">N/A</strong>
                        </div>
                        <div class="stat-item">
                            <span>Last Adjustment:</span>
                            <strong id="last-adjustment">Never</strong>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Global Anomaly Map Panel -->
            <section id="anomaly-panel" class="panel">
                <h2>Global Anomaly Map</h2>
                <div class="map-controls">
                    <button class="filter-btn active" data-filter="all">All Forges</button>
                    <button class="filter-btn" data-filter="active">Active</button>
                    <button class="filter-btn" data-filter="completed">Completed</button>
                </div>
                <div class="anomaly-map">
                    <canvas id="anomaly-canvas"></canvas>
                </div>
                <div class="forge-list">
                    <h3>Recent Forge Activity</h3>
                    <ul id="forge-activity-list">
                        <li class="forge-item">
                            <span class="forge-status active">‚óè</span>
                            <span class="forge-id">Forge #001</span>
                            <span class="forge-time">Started 2m ago</span>
                        </li>
                        <!-- More forges will be populated by JavaScript -->
                    </ul>
                </div>
            </section>
        </main>

        <footer class="portal-footer">
            <p>Excalibur $EXS Protocol - Architect: Travis D Jones (holedozer@icloud.com)</p>
        </footer>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
